{"generatedAt":1770057334865,"generateTime":819,"contents":[{"_path":"/blog/graphql-optimization","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"GraphQL Schema Optimization for E-commerce","description":"Techniques for designing efficient GraphQL schemas that scale with your e-commerce platform.","date":"2026-01-15","readingTime":8,"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"the-problem"},"children":[{"type":"text","value":"The Problem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most e-commerce platforms suffer from N+1 query issues in their GraphQL implementations. When fetching a list of products with related data (variants, reviews, pricing), a naive schema design can spiral into hundreds of database queries."}]},{"type":"element","tag":"h2","props":{"id":"the-solution"},"children":[{"type":"text","value":"The Solution"}]},{"type":"element","tag":"h3","props":{"id":"_1-dataloader-pattern"},"children":[{"type":"text","value":"1. DataLoader Pattern"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use DataLoader to batch database queries:"}]},{"type":"element","tag":"pre","props":{"className":"language-typescript shiki shiki-themes github-dark","code":"const productLoader = new DataLoader(async (productIds) => {\n  const products = await db.products.find({ id: { $in: productIds } })\n  return productIds.map(id => products.find(p => p.id === id))\n})\n","language":"typescript","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" productLoader"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" DataLoader"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"productIds"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" products"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" db.products."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"find"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({ id: { $in: productIds } })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" productIds."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" products."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"find"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" =>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" p.id "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" id))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_2-resolver-field-complexity"},"children":[{"type":"text","value":"2. Resolver Field Complexity"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Assign complexity weights to expensive fields:"}]},{"type":"element","tag":"pre","props":{"className":"language-typescript shiki shiki-themes github-dark","code":"const schema = buildSchema(`\n  type Product {\n    id: ID!\n    name: String!\n    variants: [Variant!]! @complexity(value: 50)\n    reviews: [Review!]! @complexity(value: 100)\n  }\n`)\n","language":"typescript","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" schema"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" buildSchema"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"`\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  type Product {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    id: ID!\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    name: String!\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    variants: [Variant!]! @complexity(value: 50)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    reviews: [Review!]! @complexity(value: 100)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_3-pagination-strategy"},"children":[{"type":"text","value":"3. Pagination Strategy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Always paginate relational fields to prevent runaway queries:"}]},{"type":"element","tag":"pre","props":{"className":"language-graphql shiki shiki-themes github-dark","code":"query {\n  products(first: 10, after: \"cursor\") {\n    edges {\n      node { id name }\n    }\n    pageInfo { hasNextPage }\n  }\n}\n","language":"graphql","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"query"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"  products"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"first"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"10"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"after"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"cursor\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"    edges"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"      node"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"id"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":" name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"    pageInfo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"hasNextPage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"performance-impact"},"children":[{"type":"text","value":"Performance Impact"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Implementing these patterns typically results in:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"70% reduction"}]},{"type":"text","value":" in database queries"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"40% faster"}]},{"type":"text","value":" average response times"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"90% less"}]},{"type":"text","value":" memory consumption on complex queries"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The investment pays off quickly."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"the-problem","depth":2,"text":"The Problem"},{"id":"the-solution","depth":2,"text":"The Solution","children":[{"id":"_1-dataloader-pattern","depth":3,"text":"1. DataLoader Pattern"},{"id":"_2-resolver-field-complexity","depth":3,"text":"2. Resolver Field Complexity"},{"id":"_3-pagination-strategy","depth":3,"text":"3. Pagination Strategy"}]},{"id":"performance-impact","depth":2,"text":"Performance Impact"}]}},"_type":"markdown","_id":"content:blog:graphql-optimization.md","_source":"content","_file":"blog/graphql-optimization.md","_stem":"blog/graphql-optimization","_extension":"md"},{"_path":"/blog/magento-performance","_dir":"blog","_draft":false,"_partial":false,"_locale":"","title":"Magento 2 Performance Tuning: A Practical Guide","description":"Real-world strategies for optimizing Magento 2 installations beyond the basics.","date":"2026-01-20","readingTime":12,"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"indexing-is-everything"},"children":[{"type":"text","value":"Indexing is Everything"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Magento indexing is the backbone of performance. Most developers ignore it until it breaks."}]},{"type":"element","tag":"h3","props":{"id":"the-cost-of-poor-indexing"},"children":[{"type":"text","value":"The Cost of Poor Indexing"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"An unoptimized catalog indexing routine can take "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"30+ minutes"}]},{"type":"text","value":" for a medium-sized store. During this time:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Customer-facing searches are stale"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Price updates lag"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The database is under constant lock"}]}]},{"type":"element","tag":"h3","props":{"id":"the-fix-partial-indexing"},"children":[{"type":"text","value":"The Fix: Partial Indexing"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instead of full reindexes, leverage Magento's partial indexing:"}]},{"type":"element","tag":"pre","props":{"className":"language-php shiki shiki-themes github-dark","code":"$indexer = $objectManager->create('Magento\\Indexer\\Model\\IndexerFactory');\n$indexer->create('catalog_product_attribute')->reindexRow($productId);\n","language":"php","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$indexer "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" $objectManager"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'Magento\\Indexer\\Model\\IndexerFactory'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$indexer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'catalog_product_attribute'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"reindexRow"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"($productId);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This cuts indexing time from "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"30 minutes to 2 minutes"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"query-optimization"},"children":[{"type":"text","value":"Query Optimization"}]},{"type":"element","tag":"h3","props":{"id":"avoid-n1-in-collections"},"children":[{"type":"text","value":"Avoid N+1 in Collections"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Bad:"}]},{"type":"element","tag":"pre","props":{"className":"language-php shiki shiki-themes github-dark","code":"$products = $collection->getItems();\nforeach ($products as $product) {\n    $category = $product->getCategory(); // N queries\n}\n","language":"php","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$products "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" $collection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"getItems"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"();\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"foreach"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ($products "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" $product) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    $category "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" $product"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"getCategory"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(); "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"// N queries\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Good:"}]},{"type":"element","tag":"pre","props":{"className":"language-php shiki shiki-themes github-dark","code":"$collection->addAttributeToSelect(['name', 'category_id'])\n           ->join('category', 'e.category_id = c.entity_id');\n","language":"php","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$collection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"addAttributeToSelect"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'name'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'category_id'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"           ->"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"join"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'category'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'e.category_id = c.entity_id'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":");\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"real-benchmarks"},"children":[{"type":"text","value":"Real Benchmarks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After implementing these optimizations on a 10K SKU catalog:"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Metric"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Before"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"After"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Improvement"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Catalog Load"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"3.2s"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"0.8s"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"75%"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Search Query"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"1.8s"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"0.3s"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"83%"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"Checkout Flow"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"4.5s"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"1.2s"}]},{"type":"element","tag":"td","props":{},"children":[{"type":"text","value":"73%"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Not bad for a few hours of work."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"indexing-is-everything","depth":2,"text":"Indexing is Everything","children":[{"id":"the-cost-of-poor-indexing","depth":3,"text":"The Cost of Poor Indexing"},{"id":"the-fix-partial-indexing","depth":3,"text":"The Fix: Partial Indexing"}]},{"id":"query-optimization","depth":2,"text":"Query Optimization","children":[{"id":"avoid-n1-in-collections","depth":3,"text":"Avoid N+1 in Collections"}]},{"id":"real-benchmarks","depth":2,"text":"Real Benchmarks"}]}},"_type":"markdown","_id":"content:blog:magento-performance.md","_source":"content","_file":"blog/magento-performance.md","_stem":"blog/magento-performance","_extension":"md"}],"navigation":[{"title":"Blog","_path":"/blog","children":[{"title":"GraphQL Schema Optimization for E-commerce","_path":"/blog/graphql-optimization"},{"title":"Magento 2 Performance Tuning: A Practical Guide","_path":"/blog/magento-performance"}]}]}