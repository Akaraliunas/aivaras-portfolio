[{"data":1,"prerenderedAt":598},["ShallowReactive",2],{"article-graphql-optimization":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"date":10,"readingTime":11,"body":12,"_type":592,"_id":593,"_source":594,"_file":595,"_stem":596,"_extension":597},"/blog/graphql-optimization","blog",false,"","GraphQL Schema Optimization for E-commerce","Techniques for designing efficient GraphQL schemas that scale with your e-commerce platform.","2026-01-15",8,{"type":13,"children":14,"toc":583},"root",[15,24,30,36,43,48,246,252,257,359,365,370,525,531,536,572,577],{"type":16,"tag":17,"props":18,"children":20},"element","h2",{"id":19},"the-problem",[21],{"type":22,"value":23},"text","The Problem",{"type":16,"tag":25,"props":26,"children":27},"p",{},[28],{"type":22,"value":29},"Most e-commerce platforms suffer from N+1 query issues in their GraphQL implementations. When fetching a list of products with related data (variants, reviews, pricing), a naive schema design can spiral into hundreds of database queries.",{"type":16,"tag":17,"props":31,"children":33},{"id":32},"the-solution",[34],{"type":22,"value":35},"The Solution",{"type":16,"tag":37,"props":38,"children":40},"h3",{"id":39},"_1-dataloader-pattern",[41],{"type":22,"value":42},"1. DataLoader Pattern",{"type":16,"tag":25,"props":44,"children":45},{},[46],{"type":22,"value":47},"Use DataLoader to batch database queries:",{"type":16,"tag":49,"props":50,"children":54},"pre",{"className":51,"code":52,"language":53,"meta":7,"style":7},"language-typescript shiki shiki-themes github-dark","const productLoader = new DataLoader(async (productIds) => {\n  const products = await db.products.find({ id: { $in: productIds } })\n  return productIds.map(id => products.find(p => p.id === id))\n})\n","typescript",[55],{"type":16,"tag":56,"props":57,"children":58},"code",{"__ignoreMap":7},[59,130,168,237],{"type":16,"tag":60,"props":61,"children":64},"span",{"class":62,"line":63},"line",1,[65,71,77,82,87,93,99,104,109,115,120,125],{"type":16,"tag":60,"props":66,"children":68},{"style":67},"--shiki-default:#F97583",[69],{"type":22,"value":70},"const",{"type":16,"tag":60,"props":72,"children":74},{"style":73},"--shiki-default:#79B8FF",[75],{"type":22,"value":76}," productLoader",{"type":16,"tag":60,"props":78,"children":79},{"style":67},[80],{"type":22,"value":81}," =",{"type":16,"tag":60,"props":83,"children":84},{"style":67},[85],{"type":22,"value":86}," new",{"type":16,"tag":60,"props":88,"children":90},{"style":89},"--shiki-default:#B392F0",[91],{"type":22,"value":92}," DataLoader",{"type":16,"tag":60,"props":94,"children":96},{"style":95},"--shiki-default:#E1E4E8",[97],{"type":22,"value":98},"(",{"type":16,"tag":60,"props":100,"children":101},{"style":67},[102],{"type":22,"value":103},"async",{"type":16,"tag":60,"props":105,"children":106},{"style":95},[107],{"type":22,"value":108}," (",{"type":16,"tag":60,"props":110,"children":112},{"style":111},"--shiki-default:#FFAB70",[113],{"type":22,"value":114},"productIds",{"type":16,"tag":60,"props":116,"children":117},{"style":95},[118],{"type":22,"value":119},") ",{"type":16,"tag":60,"props":121,"children":122},{"style":67},[123],{"type":22,"value":124},"=>",{"type":16,"tag":60,"props":126,"children":127},{"style":95},[128],{"type":22,"value":129}," {\n",{"type":16,"tag":60,"props":131,"children":133},{"class":62,"line":132},2,[134,139,144,148,153,158,163],{"type":16,"tag":60,"props":135,"children":136},{"style":67},[137],{"type":22,"value":138},"  const",{"type":16,"tag":60,"props":140,"children":141},{"style":73},[142],{"type":22,"value":143}," products",{"type":16,"tag":60,"props":145,"children":146},{"style":67},[147],{"type":22,"value":81},{"type":16,"tag":60,"props":149,"children":150},{"style":67},[151],{"type":22,"value":152}," await",{"type":16,"tag":60,"props":154,"children":155},{"style":95},[156],{"type":22,"value":157}," db.products.",{"type":16,"tag":60,"props":159,"children":160},{"style":89},[161],{"type":22,"value":162},"find",{"type":16,"tag":60,"props":164,"children":165},{"style":95},[166],{"type":22,"value":167},"({ id: { $in: productIds } })\n",{"type":16,"tag":60,"props":169,"children":171},{"class":62,"line":170},3,[172,177,182,187,191,196,201,206,210,214,218,222,227,232],{"type":16,"tag":60,"props":173,"children":174},{"style":67},[175],{"type":22,"value":176},"  return",{"type":16,"tag":60,"props":178,"children":179},{"style":95},[180],{"type":22,"value":181}," productIds.",{"type":16,"tag":60,"props":183,"children":184},{"style":89},[185],{"type":22,"value":186},"map",{"type":16,"tag":60,"props":188,"children":189},{"style":95},[190],{"type":22,"value":98},{"type":16,"tag":60,"props":192,"children":193},{"style":111},[194],{"type":22,"value":195},"id",{"type":16,"tag":60,"props":197,"children":198},{"style":67},[199],{"type":22,"value":200}," =>",{"type":16,"tag":60,"props":202,"children":203},{"style":95},[204],{"type":22,"value":205}," products.",{"type":16,"tag":60,"props":207,"children":208},{"style":89},[209],{"type":22,"value":162},{"type":16,"tag":60,"props":211,"children":212},{"style":95},[213],{"type":22,"value":98},{"type":16,"tag":60,"props":215,"children":216},{"style":111},[217],{"type":22,"value":25},{"type":16,"tag":60,"props":219,"children":220},{"style":67},[221],{"type":22,"value":200},{"type":16,"tag":60,"props":223,"children":224},{"style":95},[225],{"type":22,"value":226}," p.id ",{"type":16,"tag":60,"props":228,"children":229},{"style":67},[230],{"type":22,"value":231},"===",{"type":16,"tag":60,"props":233,"children":234},{"style":95},[235],{"type":22,"value":236}," id))\n",{"type":16,"tag":60,"props":238,"children":240},{"class":62,"line":239},4,[241],{"type":16,"tag":60,"props":242,"children":243},{"style":95},[244],{"type":22,"value":245},"})\n",{"type":16,"tag":37,"props":247,"children":249},{"id":248},"_2-resolver-field-complexity",[250],{"type":22,"value":251},"2. Resolver Field Complexity",{"type":16,"tag":25,"props":253,"children":254},{},[255],{"type":22,"value":256},"Assign complexity weights to expensive fields:",{"type":16,"tag":49,"props":258,"children":260},{"className":51,"code":259,"language":53,"meta":7,"style":7},"const schema = buildSchema(`\n  type Product {\n    id: ID!\n    name: String!\n    variants: [Variant!]! @complexity(value: 50)\n    reviews: [Review!]! @complexity(value: 100)\n  }\n`)\n",[261],{"type":16,"tag":56,"props":262,"children":263},{"__ignoreMap":7},[264,295,303,311,319,328,337,346],{"type":16,"tag":60,"props":265,"children":266},{"class":62,"line":63},[267,271,276,280,285,289],{"type":16,"tag":60,"props":268,"children":269},{"style":67},[270],{"type":22,"value":70},{"type":16,"tag":60,"props":272,"children":273},{"style":73},[274],{"type":22,"value":275}," schema",{"type":16,"tag":60,"props":277,"children":278},{"style":67},[279],{"type":22,"value":81},{"type":16,"tag":60,"props":281,"children":282},{"style":89},[283],{"type":22,"value":284}," buildSchema",{"type":16,"tag":60,"props":286,"children":287},{"style":95},[288],{"type":22,"value":98},{"type":16,"tag":60,"props":290,"children":292},{"style":291},"--shiki-default:#9ECBFF",[293],{"type":22,"value":294},"`\n",{"type":16,"tag":60,"props":296,"children":297},{"class":62,"line":132},[298],{"type":16,"tag":60,"props":299,"children":300},{"style":291},[301],{"type":22,"value":302},"  type Product {\n",{"type":16,"tag":60,"props":304,"children":305},{"class":62,"line":170},[306],{"type":16,"tag":60,"props":307,"children":308},{"style":291},[309],{"type":22,"value":310},"    id: ID!\n",{"type":16,"tag":60,"props":312,"children":313},{"class":62,"line":239},[314],{"type":16,"tag":60,"props":315,"children":316},{"style":291},[317],{"type":22,"value":318},"    name: String!\n",{"type":16,"tag":60,"props":320,"children":322},{"class":62,"line":321},5,[323],{"type":16,"tag":60,"props":324,"children":325},{"style":291},[326],{"type":22,"value":327},"    variants: [Variant!]! @complexity(value: 50)\n",{"type":16,"tag":60,"props":329,"children":331},{"class":62,"line":330},6,[332],{"type":16,"tag":60,"props":333,"children":334},{"style":291},[335],{"type":22,"value":336},"    reviews: [Review!]! @complexity(value: 100)\n",{"type":16,"tag":60,"props":338,"children":340},{"class":62,"line":339},7,[341],{"type":16,"tag":60,"props":342,"children":343},{"style":291},[344],{"type":22,"value":345},"  }\n",{"type":16,"tag":60,"props":347,"children":348},{"class":62,"line":11},[349,354],{"type":16,"tag":60,"props":350,"children":351},{"style":291},[352],{"type":22,"value":353},"`",{"type":16,"tag":60,"props":355,"children":356},{"style":95},[357],{"type":22,"value":358},")\n",{"type":16,"tag":37,"props":360,"children":362},{"id":361},"_3-pagination-strategy",[363],{"type":22,"value":364},"3. Pagination Strategy",{"type":16,"tag":25,"props":366,"children":367},{},[368],{"type":22,"value":369},"Always paginate relational fields to prevent runaway queries:",{"type":16,"tag":49,"props":371,"children":375},{"className":372,"code":373,"language":374,"meta":7,"style":7},"language-graphql shiki shiki-themes github-dark","query {\n  products(first: 10, after: \"cursor\") {\n    edges {\n      node { id name }\n    }\n    pageInfo { hasNextPage }\n  }\n}\n","graphql",[376],{"type":16,"tag":56,"props":377,"children":378},{"__ignoreMap":7},[379,391,442,454,481,489,510,517],{"type":16,"tag":60,"props":380,"children":381},{"class":62,"line":63},[382,387],{"type":16,"tag":60,"props":383,"children":384},{"style":67},[385],{"type":22,"value":386},"query",{"type":16,"tag":60,"props":388,"children":389},{"style":95},[390],{"type":22,"value":129},{"type":16,"tag":60,"props":392,"children":393},{"class":62,"line":132},[394,399,403,408,413,418,423,428,432,437],{"type":16,"tag":60,"props":395,"children":396},{"style":111},[397],{"type":22,"value":398},"  products",{"type":16,"tag":60,"props":400,"children":401},{"style":95},[402],{"type":22,"value":98},{"type":16,"tag":60,"props":404,"children":405},{"style":111},[406],{"type":22,"value":407},"first",{"type":16,"tag":60,"props":409,"children":410},{"style":95},[411],{"type":22,"value":412},": ",{"type":16,"tag":60,"props":414,"children":415},{"style":73},[416],{"type":22,"value":417},"10",{"type":16,"tag":60,"props":419,"children":420},{"style":95},[421],{"type":22,"value":422},", ",{"type":16,"tag":60,"props":424,"children":425},{"style":111},[426],{"type":22,"value":427},"after",{"type":16,"tag":60,"props":429,"children":430},{"style":95},[431],{"type":22,"value":412},{"type":16,"tag":60,"props":433,"children":434},{"style":291},[435],{"type":22,"value":436},"\"cursor\"",{"type":16,"tag":60,"props":438,"children":439},{"style":95},[440],{"type":22,"value":441},") {\n",{"type":16,"tag":60,"props":443,"children":444},{"class":62,"line":170},[445,450],{"type":16,"tag":60,"props":446,"children":447},{"style":111},[448],{"type":22,"value":449},"    edges",{"type":16,"tag":60,"props":451,"children":452},{"style":95},[453],{"type":22,"value":129},{"type":16,"tag":60,"props":455,"children":456},{"class":62,"line":239},[457,462,467,471,476],{"type":16,"tag":60,"props":458,"children":459},{"style":111},[460],{"type":22,"value":461},"      node",{"type":16,"tag":60,"props":463,"children":464},{"style":95},[465],{"type":22,"value":466}," { ",{"type":16,"tag":60,"props":468,"children":469},{"style":111},[470],{"type":22,"value":195},{"type":16,"tag":60,"props":472,"children":473},{"style":111},[474],{"type":22,"value":475}," name",{"type":16,"tag":60,"props":477,"children":478},{"style":95},[479],{"type":22,"value":480}," }\n",{"type":16,"tag":60,"props":482,"children":483},{"class":62,"line":321},[484],{"type":16,"tag":60,"props":485,"children":486},{"style":95},[487],{"type":22,"value":488},"    }\n",{"type":16,"tag":60,"props":490,"children":491},{"class":62,"line":330},[492,497,501,506],{"type":16,"tag":60,"props":493,"children":494},{"style":111},[495],{"type":22,"value":496},"    pageInfo",{"type":16,"tag":60,"props":498,"children":499},{"style":95},[500],{"type":22,"value":466},{"type":16,"tag":60,"props":502,"children":503},{"style":111},[504],{"type":22,"value":505},"hasNextPage",{"type":16,"tag":60,"props":507,"children":508},{"style":95},[509],{"type":22,"value":480},{"type":16,"tag":60,"props":511,"children":512},{"class":62,"line":339},[513],{"type":16,"tag":60,"props":514,"children":515},{"style":95},[516],{"type":22,"value":345},{"type":16,"tag":60,"props":518,"children":519},{"class":62,"line":11},[520],{"type":16,"tag":60,"props":521,"children":522},{"style":95},[523],{"type":22,"value":524},"}\n",{"type":16,"tag":17,"props":526,"children":528},{"id":527},"performance-impact",[529],{"type":22,"value":530},"Performance Impact",{"type":16,"tag":25,"props":532,"children":533},{},[534],{"type":22,"value":535},"Implementing these patterns typically results in:",{"type":16,"tag":537,"props":538,"children":539},"ul",{},[540,552,562],{"type":16,"tag":541,"props":542,"children":543},"li",{},[544,550],{"type":16,"tag":545,"props":546,"children":547},"strong",{},[548],{"type":22,"value":549},"70% reduction",{"type":22,"value":551}," in database queries",{"type":16,"tag":541,"props":553,"children":554},{},[555,560],{"type":16,"tag":545,"props":556,"children":557},{},[558],{"type":22,"value":559},"40% faster",{"type":22,"value":561}," average response times",{"type":16,"tag":541,"props":563,"children":564},{},[565,570],{"type":16,"tag":545,"props":566,"children":567},{},[568],{"type":22,"value":569},"90% less",{"type":22,"value":571}," memory consumption on complex queries",{"type":16,"tag":25,"props":573,"children":574},{},[575],{"type":22,"value":576},"The investment pays off quickly.",{"type":16,"tag":578,"props":579,"children":580},"style",{},[581],{"type":22,"value":582},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":132,"depth":132,"links":584},[585,586,591],{"id":19,"depth":132,"text":23},{"id":32,"depth":132,"text":35,"children":587},[588,589,590],{"id":39,"depth":170,"text":42},{"id":248,"depth":170,"text":251},{"id":361,"depth":170,"text":364},{"id":527,"depth":132,"text":530},"markdown","content:blog:graphql-optimization.md","content","blog/graphql-optimization.md","blog/graphql-optimization","md",1770059396830]